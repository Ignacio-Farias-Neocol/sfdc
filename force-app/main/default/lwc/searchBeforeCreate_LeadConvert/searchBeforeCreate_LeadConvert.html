<!--
            @author            : Rahul Migwani
            @last modified on  : 2023-07-29
            @last modified by  : Rahul Migwani
            @description       : Main Component with logic related to Lead Convert Functionality
            -->

            <template>
                <c-search-before-create_-base title-string={showTitleString} super-title-string={showSuperTitleString}
                    show-spinner={showSpinner}>
                    <template if:false={isShowConfirmationPage}>
                        <span slot="searchForm">
                            <div class="slds-box">
                                <lightning-record-edit-form data-id='leadSearch' object-api-name={objectApiName} record-id={leadId} onload={handleOnLoad}
                                    density="compact">
                                    <lightning-input-field field-name={firstnameField} disabled={leadFnameDisabled}> </lightning-input-field>
                                    <lightning-input-field field-name={lastameField} disabled={leadLnameDisabled}> </lightning-input-field>
                                    <lightning-input-field field-name={emailField} disabled={leadEmailDisabled}> </lightning-input-field>
                                    <lightning-input-field field-name={phoneField} disabled={leadPhoneDisabled}> </lightning-input-field>

                                    <div class="slds-p-around_medium lgc-bg">
                                        <lightning-helptext content='To view additional results try removing the suffix at the end of the company name, i.e. “Acme” instead of “Acme Inc”.'></lightning-helptext>
                                    </div>
                                    <lightning-input-field field-name={companyField} disabled={leadCompanyDisabled}>
                                    </lightning-input-field>

                                    <lightning-input-field field-name={websiteField} value={websiteOrEmailDomain}
                                        disabled={leadWebsiteDisabled}>
                                    </lightning-input-field>
                                    <lightning-input-field field-name={dunsField} disabled={leadDunsDisabled}>
                                    </lightning-input-field>
                                    <lightning-combobox name="Country" label="Country" value={selectedCountry}
                                        placeholder="Select Country" options={countries} onchange={handleCountry} disabled={leadCountryDisabled} required variant="label-inline">
                                    </lightning-combobox >
                                    <lightning-input-field field-name={countryField} class="slds-hide"></lightning-input-field>
                                    <lightning-input-field field-name={countrycodeField} class="slds-hide"> </lightning-input-field>
                                    <lightning-output-field field-name={streetField} disabled={leadStreetDisabled}> </lightning-output-field>
                                    <lightning-input-field field-name={cityField} disabled={leadCityDisabled}> </lightning-input-field>
                                    <lightning-input-field field-name={statecodeField} disabled={leadStateDisabled}> </lightning-input-field>
                                    <lightning-input-field field-name={postalcodeField} disabled={leadPostalDisabled}> </lightning-input-field>
                                    <lightning-input-field field-name={leadsourceField} disabled={leadSourceDisabled}> </lightning-input-field>
                                    <lightning-input-field field-name={industryField} class="slds-hide" disabled={leadIndustryDisabled}> </lightning-input-field>
                                    <lightning-input-field field-name={employeeCountField} class="slds-hide"></lightning-input-field>
                                    <lightning-input-field field-name={stateField} class="slds-hide"> </lightning-input-field>
                                    <lightning-input-field field-name={ownerIsUserField} class="slds-hide"> </lightning-input-field>
                                    <span class="slds-align_absolute-center">
                                        <lightning-button variant="neutral" label="Search" title="Search"
                                            onclick={handleSearch} icon-name="utility:search" icon-position="left" class="searchStyle" disabled={leadSeachBtnDisabled}></lightning-button>
                                    </span>
                                </lightning-record-edit-form>
                            </div>
                        </span>

                        <!-- ACCOUNTS RESULTS PAGE -->
                        <span slot="content">
                            <c-search-before-create_-page page-name={ACCOUNT_RESULTS_PAGE} current-page={currentPage}
                                results-page-header={ACCOUNT_PAGE_HEADER}>
                                <span slot="actions">
                                    <lightning-button label="Search D&B / Create New Account" data-next-page={ACCOUNT_ENRICH_PAGE}
                                        onclick={navigateToPage} class="slds-button_stretch slds-size_4-of-12"></lightning-button>
                                </span>
                                <span slot="pageContent">

                                    <div if:true={accountResults} class="slds-border_left slds-border_right slds-table_bordered">
                                        <lightning-datatable id="accountDatatable" key-field="Id" data={accountResults}
                                            columns={ACCOUNT_COLUMNS} max-row-selection="1" selected-rows={selectedAccountIdRow}
                                            onrowselection={selectExistingAccount} default-sort-direction={defaultSortDirection}
                                            onrowaction={handleRowActions} sorted-by={sortedBy} sorted-direction={sortDirection}
                                            onsort={onHandleSort}>
                                        </lightning-datatable>
                                    </div>
                                    <div class="slds-box" if:true={isAccounttableEmpty}>
                                        <p>No records found </p>
                                    </div>

                                </span>
                                <span slot="navigation">
                                    <!-- <template if:false={isAccounttableEmpty}>
                                        <lightning-button label="Deselect" onclick={handleDeselect} class="slds-m-left_x-small"
                                            disabled={disableDeselectButton}></lightning-button>
                                    </template> -->
                                    <lightning-button label="Cancel" data-next-page={leadId} onclick={closeModal}
                                        class="slds-m-left_x-small"></lightning-button>
                                    <lightning-button variant="brand" label="Select this Account"
                                        data-next-page={CONTACT_RESULTS_PAGE} onclick={navigateToPage} class="slds-m-left_x-small"
                                        disabled={acctbtndisabled}></lightning-button>
                                </span>
                            </c-search-before-create_-page>
                        </span>
                        <!-- </template> -->
                        <!-- ACCOUNTS RESULTS PAGE -->

                        <!-- Account Clone Page -->
                        <span slot="content">
                            <c-search-before-create_-page page-name={ACCOUNT_CLONE_PAGE} current-page={currentPage}
                                results-page-header={ACCOUNT_CLONE_PAGE_HEADER}>
                                <span slot="actions">
                                </span>
                                <span slot="pageContent">
                                    <template if:true={selectedAccount}>
                                        <article class="slds-tile slds-media slds-m-top_medium">
                                            <div class="slds-media__figure">
                                              <span class="slds-icon_container" title="Account">
                                                <lightning-avatar alternative-text={selectedAccount.Name}
                                                    fallback-icon-name="standard:account">
                                                </lightning-avatar>
                                              </span>
                                            </div>
                                            <div class="slds-media__body">
                                              <h3 class="slds-text-title_bold slds-tile__title slds-truncate">
                                                {selectedAccount.Name}
                                              </h3>
                                              <div class="slds-tile__detail">
                                                <dl class="slds-list_horizontal slds-wrap">
                                                  <dt class="slds-item_label slds-text-color_weak slds-truncate" title="Website">Website:</dt>
                                                  <dd class="slds-item_detail slds-truncate">{selectedAccount.Website}</dd>
                                                  <dt class="slds-item_label slds-text-color_weak slds-truncate" title="Primary Business State/Province">Primary Business State/Province:</dt>
                                                  <dd class="slds-item_detail slds-truncate">{selectedAccount.BillingState}</dd>
                                                  <dt class="slds-item_label slds-text-color_weak slds-truncate" title="Primary Business Country">Primary Business Country:</dt>
                                                  <dd class="slds-item_detail slds-truncate">{selectedAccount.BillingCountry}</dd>
                                                </dl>
                                              </div>
                                            </div>
                                          </article>
                                    </template>
                                    <div class="slds-border_top slds-m-top_medium slds-m-bottom_medium"></div>
                                    <!-- Account Clone Form -->
                                    <lightning-record-edit-form object-api-name="Account">
                                        <template for:each={accountCloneFields} for:item="fieldItem">
                                            <lightning-input-field key={fieldItem.fieldName} field-name={fieldItem.fieldName}
                                                value={fieldItem.value} data-id={ACCOUNT_CLONE_ID}>
                                            </lightning-input-field>
                                        </template>
                                        <!-- Add more fields -->
                                        <lightning-button-menu icon-name="utility:add" onselect={addCloneFieldHandler}>
                                            <template for:each={fieldOptionsWithLabels} for:item="fieldOptionItem">
                                                <lightning-menu-item key={fieldOptionItem.apiName} value={fieldOptionItem.apiName}
                                                    label={fieldOptionItem.label}></lightning-menu-item>
                                            </template>
                                        </lightning-button-menu>
                                    </lightning-record-edit-form>
                                </span>
                                <span slot="navigation">
                                    <lightning-button label="Previous" data-next-page={leadId} onclick={navigateToPrevious}
                                        class="slds-var-m-left_x-small"></lightning-button>
                                    <lightning-button variant="brand" label="Continue" data-next-page={CONTACT_RESULTS_PAGE}
                                        onclick={handleNewRecord} data-form-id={ACCOUNT_CLONE_ID}
                                        class="slds-var-m-left_x-small slds-button_brand"></lightning-button>
                                </span>
                            </c-search-before-create_-page>
                        </span>
                        <!-- Account Clone Page -->

                        <!-- ACCOUNTS ENRICHMENT RESULTS PAGE -->

                        <span slot="content">
                            <c-search-before-create_-page page-name={ACCOUNT_ENRICH_PAGE} current-page={currentPage}
                                results-page-header={ACCOUNT_ENRICH_HEADER}>
                                <span slot="actions">
                                    <lightning-button label="Create New Account" data-next-page={ACCOUNT_CREATE_PAGE}
                                        onclick={navigateToPage} class="slds-m-left_x-small"></lightning-button>
                                </span>
                                <span slot="pageContent">
                                    <div if:true={accountEnrichResults} class="slds-border_left slds-border_right slds-table_bordered">
                                        <lightning-datatable key-field="D_B_DUNS_Number__c" data={accountEnrichResults} columns={ENRICH_COLUMNS}
                                            max-row-selection="1" selected-rows={selectedAccountIdRow}
                                            onrowselection={selectExistingAccount} default-sort-direction={defaultSortDirection}
                                            sorted-by={sortedBy} sorted-direction={sortDirection} onsort={onHandleSort}>
                                        </lightning-datatable>
                                    </div>
                                    <div class="slds-box" if:true={isAccountEnrichtableEmpty}>
                                        <p>No records found </p>
                                    </div>
                                </span>
                                <span slot="navigation">
                                    <!-- <template if:false={isAccountEnrichtableEmpty}>
                                        <lightning-button label="Deselect" onclick={handleDeselect} class="slds-m-left_x-small"
                                            disabled={disableDeselectButton}></lightning-button>
                                    </template> -->
                                    <lightning-button label="Previous" data-next-page={leadId} onclick={navigateToPrevious}
                                        class="slds-var-m-left_x-small"></lightning-button>
                                    <lightning-button variant="brand" label="Select this Account"
                                        data-next-page={ACCOUNT_CREATE_PAGE} onclick={navigateToPage}
                                        data-acc-type={DNB_ACCOUNT_SELECTED} class="slds-m-left_x-small"
                                        disabled={acctbtndisabled}></lightning-button>

                                </span>
                            </c-search-before-create_-page>
                        </span>

                        <!-- ACCOUNTS ENRICHMENT RESULTS PAGE -->

                        <!-- CONTACTS RESULTS PAGE -->
                        <span slot="content">
                            <c-search-before-create_-page page-name={CONTACT_RESULTS_PAGE} current-page={currentPage}
                                results-page-header={CONTACT_PAGE_HEADER}>
                                <span slot="actions">
                                    <lightning-button label="Create New Contact" data-next-page={CONTACT_CREATION_PAGE}
                                        onclick={navigateToPage} class="slds-var-m-left_x-small"></lightning-button>
                                </span>
                                <span slot="pageContent">
                                    <div if:true={contactResults} class="slds-border_left slds-border_right slds-table_bordered">
                                        <lightning-datatable key-field="id" data={contactResults} columns={CONTACT_COLUMNS}
                                            max-row-selection="1" selected-rows={selectedContactId}
                                            onrowselection={selectExistingContact} default-sort-direction={defaultSortDirection}
                                            sorted-by={sortedBy} sorted-direction={sortDirection} onsort={onHandleSort}>
                                        </lightning-datatable>
                                    </div>
                                    <div class="slds-box" if:true={isContacttableEmpty}>
                                        <p>No records found </p>
                                    </div>
                                </span>
                                <span slot="navigation">
                                                                        <!-- <lightning-button label="Cancel" data-next-page={leadId} onclick={navigateToRecord}
                                                class="slds-var-m-left_x-small"></lightning-button> -->
                                    <lightning-button label="Previous" data-next-page={leadId} onclick={navigateToPrevious}
                                        class="slds-var-m-left_x-small"></lightning-button>
                                    <lightning-button variant="brand" label="Select this Contact"
                                        data-next-page={OPPORTUNITY_RESULTS_PAGE} onclick={navigateToPage}
                                        class="slds-var-m-left_x-small slds-button_brand"
                                        disabled={contbtndisabled}></lightning-button>

                                </span>
                            </c-search-before-create_-page>
                        </span>
                        <!-- </template> -->
                        <!-- CONTACTS RESULTS PAGE -->

                        <!-- For Opportunity Result Page -->
                        <span slot="content">
                            <c-search-before-create_-page page-name={OPPORTUNITY_RESULTS_PAGE} current-page={currentPage}
                                results-page-header={OPPORTUNITY_PAGE_HEADER}>
                                <span slot="actions">
                                    <lightning-button label="Create New Opportunity" data-next-page={OPP_CREATION_PAGE}
                                        onclick={navigateToPage} class="slds-m-left_x-small"></lightning-button>
                                </span>
                                <span slot="pageContent">
                                    <div if:true={opportunityResults} class="slds-border_left slds-border_right slds-table_bordered">
                                        <lightning-datatable key-field="id" data={opportunityResults} columns={OPPORTUNITY_COLUMN}
                                            max-row-selection="1" selected-rows={selectedOpportunityId}
                                            onrowselection={selectExistingOpportunity} default-sort-direction={defaultSortDirection}
                                            sorted-by={sortedBy}>
                                        </lightning-datatable>
                                    </div>
                                    <div class="slds-box" if:true={isOpptytableEmpty}>
                                        <p>No records found </p>
                                    </div>
                                </span>
                                <span slot="navigation">
                                                                        <lightning-button label="Previous" data-next-page={leadId} onclick={navigateToPrevious}
                                        class="slds-var-m-left_x-small"></lightning-button>
                                    <lightning-button variant="brand" label="Do not create opportunity"
                                        data-next-page={CONFIRM_PAGE} onclick={navigateToFinish}
                                        class="slds-var-m-left_x-small slds-button_brand"
                                        data-opp-type={OPP_TYPE_NONE}></lightning-button>
                                    <lightning-button variant="brand" label="Select this Opportunity" data-next-page={CONFIRM_PAGE}
                                        onclick={navigateToFinish} class="slds-var-m-left_x-small slds-button_brand"
                                        disabled={isFinishDisabled} data-opp-type={OPP_TYPE_SELECTED}></lightning-button>
                                </span>
                            </c-search-before-create_-page>
                        </span>
                        <!-- For Opportunity Result Page -->

                        <!-- New Contact Page -->
                        <span slot="content">
                            <c-search-before-create_-page page-name={CONTACT_CREATION_PAGE} current-page={currentPage}
                                results-page-header={CONTACT_CREATION_HEADER}>
                                <span slot="actions">

                                </span>
                                <span slot="pageContent">
                                    <lightning-record-edit-form object-api-name="Contact">
                                        <div class="slds-grid slds-wrap slds-m-top_medium">
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={CONTACT_FORM_ID} field-name="FirstName"
                                                    value={fname}> </lightning-input-field>
                                                <lightning-input-field data-id={CONTACT_FORM_ID} field-name="Email" value={email}
                                                    disabled={disabledFields.Contact_Email}> </lightning-input-field>
                                            </div>
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={CONTACT_FORM_ID} field-name="LastName"
                                                    value={lname}> </lightning-input-field>
                                                <lightning-input-field data-id={CONTACT_FORM_ID} field-name="Phone" value={phone}>
                                                </lightning-input-field>

                                            </div>
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={CONTACT_FORM_ID} field-name="CurrencyIsoCode"
                                                    value={currency} disabled={disabledFields.Contact_Currency}>
                                                </lightning-input-field>
                                                <lightning-input-field data-id={CONTACT_FORM_ID} field-name="MailingStreet"
                                                    value={street}> </lightning-input-field>
                                                <lightning-input-field data-id={CONTACT_FORM_ID} field-name="MailingCity"
                                                    value={city}> </lightning-input-field>
                                                 <lightning-input-field data-id={CONTACT_FORM_ID} field-name="MailingPostalCode"
                                                    value={zip}> </lightning-input-field>
                                                <!-- <lightning-input-field data-id={CONTACT_FORM_ID} field-name="MailingCountry"
                                                    value={country}> </lightning-input-field> -->
                                            </div>
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={CONTACT_FORM_ID} field-name="LeadSource"
                                                    value={leadsource} disabled={disabledFields.Contact_LeadSource}>
                                                </lightning-input-field>
                                                <lightning-combobox data-id={CONTACT_FORM_ID} name="Country" label="Country" value={selectedCountry}
                                                    placeholder="Select Country" options={countries} onchange={handleCountry}>
                                                </lightning-combobox >
                                                <div class="slds-p-top_small">
                                                <lightning-combobox data-id={CONTACT_FORM_ID} name="State" label="State" value={selectedState}
                                                    placeholder="Select State" options={states} onchange={handleState}> </lightning-combobox>
                                                </div>
                                                <!-- <lightning-input-field data-id={CONTACT_FORM_ID} field-name="MailingState"
                                                    value={billingState}> </lightning-input-field> -->
                                            </div>
                                        </div>
                                    </lightning-record-edit-form>
                                </span>
                                <span slot="navigation">
                                    <lightning-button label="Previous" data-next-page={leadId} onclick={navigateToPrevious}
                                        class="slds-var-m-left_x-small"></lightning-button>
                                    <lightning-button variant="brand" label="Continue" data-next-page={OPPORTUNITY_RESULTS_PAGE}
                                        data-form-id={CONTACT_FORM_ID} onclick={handleNewRecord}
                                        class="slds-var-m-left_x-small"></lightning-button>
                                </span>
                            </c-search-before-create_-page>
                        </span>

                        <!-- New Contact Page -->
                        <!-- New Opportunity Page -->
                        <span slot="content">
                            <c-search-before-create_-page page-name={OPP_CREATION_PAGE} current-page={currentPage}
                                results-page-header={OPPORTUNITY_CREATION_HEADER}>
                                <span slot="actions">

                                </span>
                                <span slot="pageContent">
                                    <lightning-record-edit-form object-api-name="Opportunity">
                                        <div class="slds-col slds-size_1-of-2 slds-m-top_medium">
                                            <lightning-input-field data-id={OPPORTUNITY_FORM_ID} field-name="Name"
                                                value={getOpportunityName}> </lightning-input-field>
                                        </div>
                                    </lightning-record-edit-form>
                                </span>
                                <span slot="navigation">
                                    <lightning-button label="Previous" data-next-page={leadId} onclick={navigateToPrevious}
                                        class="slds-var-m-left_x-small"></lightning-button>
                                    <lightning-button variant="brand" label="Confirm" data-next-page={CONFIRM_PAGE}
                                        onclick={handleNewRecord} class="slds-var-m-left_x-small slds-button_brand"
                                        data-form-id={OPPORTUNITY_FORM_ID} data-opp-type={OPP_TYPE_CREATE}></lightning-button>

                                    <!--<lightning-button label="Confirm" variant="brand" data-next-page={CONFIRM_PAGE} data-form-id={OPPORTUNITY_FORM_ID}
                                                    data-opp-type={OPP_TYPE_CREATE} onclick={navigateToFinish}  class="slds-var-m-left_x-small"></lightning-button>-->
                                </span>
                            </c-search-before-create_-page>
                        </span>
                        <!-- New Opportunity Page -->
                        <!--New Account Creation Page-->
                        <span slot="content">
                            <c-search-before-create_-page page-name={ACCOUNT_CREATE_PAGE} current-page={currentPage}
                                results-page-header={ACCOUNT_CREATION_HEADER}>
                                <span slot="actions"></span>
                                <span slot="pageContent">
                                    <lightning-record-edit-form object-api-name="Account" record-type-id={recordTypeId}>
                                        <div class="slds-m-top_small demo-only demo-only--sizing slds-grid slds-wrap">
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="Name"
                                                    value={accountName} disabled={disabledFields.Name}></lightning-input-field>
                                                <!-- <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="Type" value={accType}
                                                     disabled={disabledFields.Type} ></lightning-input-field> -->
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="D_B_DUNS_Number__c"
                                                    value={duns}
                                                    disabled={disabledFields.D_B_DUNS_Number__c}></lightning-input-field>
                                            </div>
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="CurrencyIsoCode"
                                                    value={currency}
                                                    disabled={disabledFields.CurrencyIsoCode}></lightning-input-field>
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="OwnerId"
                                                    value={accountOwner}></lightning-input-field>
                                            </div>

                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="Industry"
                                                    value={getIndustryName}
                                                    disabled={disabledFields.Industry}></lightning-input-field>
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="NumberOfEmployees"
                                                    value={employeeCount}
                                                    disabled={disabledFields.NumberOfEmployees}></lightning-input-field>
                                            </div>
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="Website"
                                                    value={website} disabled={disabledFields.Website}></lightning-input-field>
                                                <!-- <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="NumberOfEmployees"
                                                    value={employeeCount}
                                                    disabled={disabledFields.NumberOfEmployees}></lightning-input-field> -->
                                            </div>
                                            <div class="slds-col slds-size_1-of-1">
                                                <b> Address Information</b>
                                            </div>

                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="BillingStreet" value ={street}
                                                    onchange={handleAddressFieldChange} required> </lightning-input-field>
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="BillingCity" value ={city}
                                                    onchange={handleAddressFieldChange} required> </lightning-input-field>
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="BillingPostalCode" value ={zip}
                                                    onchange={handleAddressFieldChange} required> </lightning-input-field>
                                            </div>

                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-combobox data-id={ACCOUNT_FORM_ID} name="Country" label="Country" value={selectedCountry}
                                                    placeholder="Select Country" options={countries} onchange={handleCountry} required>
                                                </lightning-combobox >
                                                <div class="slds-p-top_small">
                                                <lightning-combobox data-id={ACCOUNT_FORM_ID} name="State" label="State" value={selectedState}
                                                    placeholder="Select State" options={states} onchange={handleState}> </lightning-combobox>
                                                </div>
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="DUNS_Number__c" value={dunsnum}
                                                    class="slds-hide"></lightning-input-field>
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="Creation_Source_Audit__c" value={creationSourceAudit}
                                                    class="slds-hide"></lightning-input-field>
                                            </div>
                                            <!-- <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="BillingStreet"
                                                    value={street} onchange={handleAddressFieldChange} required="true"></lightning-input-field>
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="BillingCountry"
                                                    value={country} onchange={handleAddressFieldChange} required="true"></lightning-input-field>
                                            </div>
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="BillingCity"
                                                    value={city} onchange={handleAddressFieldChange} required="true"></lightning-input-field>
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="BillingState"
                                                    value={billingState} onchange={handleAddressFieldChange}></lightning-input-field>
                                            </div>
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID} field-name="BillingPostalCode"
                                                    value={zip} onchange={handleAddressFieldChange} required="true"></lightning-input-field>
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID}
                                                    field-name="DUNS_Number__c" value={duns}
                                                    class="slds-hide"></lightning-input-field>
                                                <lightning-input-field data-id={ACCOUNT_FORM_ID}
                                                    field-name="Creation_Source_Audit__c" value={creationSourceAudit}
                                                    class="slds-hide"></lightning-input-field>
                                            </div> -->
                                        </div>
                                    </lightning-record-edit-form>
                                </span>
                                <span slot="navigation">
                                    <lightning-button label="Previous" onclick={navigateToPrevious}></lightning-button>
                                    <lightning-button label="Continue" data-next-page={CONTACT_RESULTS_PAGE}
                                        data-form-id={ACCOUNT_FORM_ID} onclick={handleNewRecord} variant="brand" class="slds-m-left_x-small">
                                    </lightning-button>
                                </span>
                            </c-search-before-create_-page>
                        </span>

                        <!--New Account Creation Page-->

                    </template>
                    <!-- For Confirmation Page -->
                    <span slot="content">
                        <c-search-before-create_-page page-name={CONFIRM_PAGE} current-page={currentPage}>
                            <span slot="pageContent">
                                <div class="slds-grid slds-wrap slds-m-around_medium">
                                    <template if:true={isConvertLeadSuccessful}>
                                        <div class="slds-col slds-size_1-of-1">
                                            <h1 class="slds-text-heading_large slds-text-align_center">Your lead has been converted!
                                            </h1></br></br>
                                        </div>
                                        <div class="slds-col slds-size_1-of-3 slds-text-align_center">
                                            <p>Account</p>
                                            <a href="#" onclick={navigateToAccount}>
                                                <lightning-icon icon-name="standard:account" size="large"></lightning-icon></a>
                                            <p><a href="#" onclick={navigateToAccount}>{getAccountName}</a></p>
                                        </div>
                                        <div class="slds-col slds-size_1-of-3 slds-text-align_center">
                                            <p>Contact</p>
                                            <a href="#" onclick={navigateToContact}>
                                                <lightning-icon icon-name="standard:contact" size="large"></lightning-icon></a>
                                            <p><a href="#" onclick={navigateToContact}>{getContactName}</a></p>
                                        </div>
                                        <div class="slds-col slds-size_1-of-3 slds-text-align_center" if:false={showOpportunityIconDiv}>
                                            <p>Opportunity</p>
                                            <a href="#" onclick={navigateToOpportunity}>
                                                <lightning-icon icon-name="standard:opportunity" size="large"></lightning-icon></a>
                                            <p><a href="#" onclick={navigateToOpportunity}>{getOppName}</a></p>
                                        </div>
                                    </template>
                                    <template if:false={isConvertLeadSuccessful}>
                                        <div class="slds-col slds-size_1-of-1">
                                            <h1 class="slds-text-heading_large slds-text-align_center">Your lead was not converted.
                                            </h1></br></br>
                                        </div>
                                    </template>
                                </div>

                                <!-- Close Modal Button -->
                                <div class="slds-m-top_large slds-text-align_center">
                                    <lightning-button label="Done" onclick={closeModal} variant="brand"></lightning-button>
                                </div>
                            </span>
                        </c-search-before-create_-page>
                    </span>
                    <!-- For Confirmation Page -->
                </c-search-before-create_-base>
            </template>
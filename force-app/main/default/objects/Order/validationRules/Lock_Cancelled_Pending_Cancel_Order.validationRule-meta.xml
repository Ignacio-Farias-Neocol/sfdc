<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Lock_Cancelled_Pending_Cancel_Order</fullName>
    <active>true</active>
    <description>This VR will show error message to the user, if the status of the Order is either Cancelled or Pending Cancellation and user tries to edit any info of the order record.</description>
    <errorConditionFormula>AND(
$User.Full_Name__c &lt;&gt; &apos;Automated Process&apos;, 
OR(PRIORVALUE(Is_Order_Cancelled__c) = TRUE,
PRIORVALUE(Pending_Cancellation__c) = TRUE),
LastModifiedDate &lt;&gt; CreatedDate,
Do_not_lock_Order_record__c  = FALSE,
NOT( ISPICKVAL( Status , &apos;Draft&apos;) ) 
)</errorConditionFormula>
    <errorMessage>You can&apos;t update &apos;Cancelled&apos; or &apos;Pending Cancellation&apos; Orders.</errorMessage>
</ValidationRule>

<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Post_MQL_Validation</fullName>
    <active>false</active>
    <description>State (for US/CA), Country, Zip are needed to save Post_MQL lead by a sales user</description>
    <errorConditionFormula>AND(
	RecordType.DeveloperName = &apos;Post_MQL&apos;,
	OR(
		ISBLANK(Country), 
   		AND( NOT(ISBLANK(TEXT(CountryCode))),
   			CONTAINS(&apos;DZ,AR,AM,AU,AT,AZ,A2,BD,BY,BE,BA,BR,BN,BG,CA,IC,CN,HR,CY,CZ,DK,EN,EE,FO,FI,FR,GE,DE,GR,GL,GU,GG,HO,HU,IN,ID,IL,IT,JP,JE,KZ,KR,KO,KG,LV,LI,LT,LU,MK,MG,M3,MY,MH,MQ,YT,MX,MN,ME,NL,NZ,NB,NO,PK,PH,PL,PO,PT,PR,RE,RU,SA,SF,CS,SG,SK,SI,ZA,ES,LK,NT,SX,UV,VL,SE,CH,TW,TJ,TH,TU,TN,TR,TM,VI,UA,GB,US,UY,UZ,VA,VN,WL,YA&apos;, TEXT(CountryCode)), 
   			ISBLANK( PostalCode )),
   		AND(NOT(ISBLANK(TEXT(CountryCode))),CONTAINS(&apos;US,CA&apos;, TEXT(CountryCode)), ISBLANK(State))
	),
	OR(
	$Profile.Name = &apos;Apollo: Custom- Sales Profile&apos;,
	$Profile.Name = &apos;Apollo: Custom- Sales Engineers Profile&apos;,
	$Profile.Name = &apos;Apollo: Custom- Sales_China Profile&apos;,
	$Profile.Name = &apos;Apollo: Custom- Renewals Profile&apos;,
	$Profile.Name = &apos;Apollo: Custom- Customer Services&apos;
	),
	ISBLANK(LiveChatTranscript_External_Id__c) 
)</errorConditionFormula>
    <errorMessage>Please ensure the Country, State and Zip are filled out</errorMessage>
</ValidationRule>

<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Approval_Status_must_match_Stage</fullName>
    <active>false</active>
    <description>SFDC-10581  The CPQ Approval Status must == Approved before Stage can be &quot;Approved/Customer Accepted&quot;.</description>
    <errorConditionFormula>IF( NOT(ISPICKVAL(ApprovalStatus__c, &quot;Approved&quot;)) &amp;&amp; 
	OR(
		ISPICKVAL(SBQQ__Status__c, &quot;Presented&quot;),
		ISPICKVAL(SBQQ__Status__c, &quot;Approved&quot;),
		ISPICKVAL(SBQQ__Status__c, &quot;Customer Accepted&quot;)),
	TRUE, 
	FALSE
)</errorConditionFormula>
    <errorMessage>Quote Stage cannot be &quot;Approved/Customer Accepted/Presented&quot; unless &quot;Approval Status&quot; is &apos;Approved&apos;. Please use the &quot;Submit for Approval&quot; button to obtain approval.</errorMessage>
</ValidationRule>

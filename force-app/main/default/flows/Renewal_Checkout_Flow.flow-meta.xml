<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>54.0</apiVersion>
    <assignments>
        <name>Assign_Order_Review_Stage</name>
        <label>Assign Order Review Stage</label>
        <locationX>751</locationX>
        <locationY>879</locationY>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Order_Review</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Order_Review_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Payment_Selection_Stage</name>
        <label>Assign Payment Selection Stage</label>
        <locationX>751</locationX>
        <locationY>490</locationY>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Payment_Selection_Stage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Payment_Selection_Screen</targetReference>
        </connector>
    </assignments>
    <description>Flow to guide portal users through the renewal checkout process.</description>
    <interviewLabel>Renewal Checkout {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Renewal Checkout Flow</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <screens>
        <name>Checkout_Validation</name>
        <label>Checkout Validation</label>
        <locationX>751</locationX>
        <locationY>182</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>pricing_review_screen</targetReference>
        </connector>
        <fields>
            <name>checkoutValidtionLWC</name>
            <extensionName>c:renewalCheckoutValidation</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Order_Confirmation_Screen</name>
        <label>Order Confirmation</label>
        <locationX>751</locationX>
        <locationY>1307</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>order_confirmation_body</name>
            <extensionName>c:renewalCheckoutOrderConfirmation</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>poNumber</name>
                <value>
                    <elementReference>poNumber</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectedCreditCard</name>
                <value>
                    <elementReference>selectedCC</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>billingCity</name>
                <value>
                    <elementReference>billingCity</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>billingCountry</name>
                <value>
                    <elementReference>billingCountry</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>billingState</name>
                <value>
                    <elementReference>billingState</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>billingStreet</name>
                <value>
                    <elementReference>billingStreet</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>billingZipCode</name>
                <value>
                    <elementReference>billingZipCode</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>ccDigits</name>
                <value>
                    <elementReference>ccDigits</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>shippingCity</name>
                <value>
                    <elementReference>shippingCity</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>shippingCountry</name>
                <value>
                    <elementReference>shippingCountry</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>shippingState</name>
                <value>
                    <elementReference>shippingState</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>shippingStreet</name>
                <value>
                    <elementReference>shippingStreet</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>shippingZipCode</name>
                <value>
                    <elementReference>shippingZipCode</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>billingAccountEmail</name>
                <value>
                    <elementReference>billingAccountEmail</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>billingAccountName</name>
                <value>
                    <elementReference>billingAccountName</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>shippingAccountName</name>
                <value>
                    <elementReference>shippingAccountName</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Order_Review_Screen</name>
        <label>Order Review Screen</label>
        <locationX>751</locationX>
        <locationY>1080</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Order_Confirmation_Screen</targetReference>
        </connector>
        <fields>
            <name>order_review_path</name>
            <extensionName>c:RenewalCheckoutPath</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>order_review_body</name>
            <extensionName>c:renewalCheckoutOrderReview</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>poNumber</name>
                <value>
                    <elementReference>poNumber</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectedCreditCard</name>
                <value>
                    <elementReference>selectedCC</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>autoRenew</name>
                <value>
                    <elementReference>autoRenew</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>billingAccountEmail</assignToReference>
                <name>billingAccountEmail</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>billingAccountName</assignToReference>
                <name>billingAccountName</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>billingCity</assignToReference>
                <name>billingCity</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>billingCountry</assignToReference>
                <name>billingCountry</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>billingState</assignToReference>
                <name>billingState</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>billingStreet</assignToReference>
                <name>billingStreet</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>billingZipCode</assignToReference>
                <name>billingZipCode</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>ccDigits</assignToReference>
                <name>ccDigits</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>shippingAccountName</assignToReference>
                <name>shippingAccountName</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>shippingCity</assignToReference>
                <name>shippingCity</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>shippingCountry</assignToReference>
                <name>shippingCountry</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>shippingState</assignToReference>
                <name>shippingState</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>shippingStreet</assignToReference>
                <name>shippingStreet</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>shippingZipCode</assignToReference>
                <name>shippingZipCode</name>
            </outputParameters>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Payment_Selection_Screen</name>
        <label>Payment Selection Screen</label>
        <locationX>751</locationX>
        <locationY>644</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <backButtonLabel>PREVIOUS</backButtonLabel>
        <connector>
            <targetReference>Assign_Order_Review_Stage</targetReference>
        </connector>
        <fields>
            <name>payment_selection_path</name>
            <extensionName>c:RenewalCheckoutPath</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>paymentSelectionLWC</name>
            <extensionName>c:renewalCheckoutPaymentSelection</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>poNumber</assignToReference>
                <name>poNumber</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>selectedCC</assignToReference>
                <name>selectedCreditCard</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>autoRenew</assignToReference>
                <name>autoRenew</name>
            </outputParameters>
        </fields>
        <nextOrFinishButtonLabel>NEXT</nextOrFinishButtonLabel>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Displays pricing breakdown and total</description>
        <name>pricing_review_screen</name>
        <label>Pricing Review Screen</label>
        <locationX>752</locationX>
        <locationY>291</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Assign_Payment_Selection_Stage</targetReference>
        </connector>
        <fields>
            <name>pricing_confirmation_stage</name>
            <extensionName>c:RenewalCheckoutPath</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>pricing_review_body</name>
            <extensionName>c:renewalCheckoutPricingConfirmation</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <nextOrFinishButtonLabel>NEXT</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <stages>
        <name>Order_Review</name>
        <isActive>true</isActive>
        <label>Order Review</label>
        <stageOrder>30</stageOrder>
    </stages>
    <stages>
        <name>Payment_Selection_Stage</name>
        <isActive>true</isActive>
        <label>Payment Selection</label>
        <stageOrder>20</stageOrder>
    </stages>
    <stages>
        <name>Pricing_Stage</name>
        <isActive>true</isActive>
        <label>Pricing Confirmation</label>
        <stageOrder>0</stageOrder>
    </stages>
    <start>
        <locationX>625</locationX>
        <locationY>48</locationY>
        <connector>
            <targetReference>Checkout_Validation</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <description>boolean for user&apos;s choice to auto renew their order</description>
        <name>autoRenew</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>billingAccountEmail</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>billingAccountName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>billingCity</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>billingCountry</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>billingState</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>billingStreet</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>billingZipCode</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ccDigits</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Purchase Order Number</description>
        <name>poNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Id of selected Credit Card</description>
        <name>selectedCC</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>shippingAccountName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>shippingCity</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>shippingCountry</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>shippingState</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>shippingStreet</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>shippingZipCode</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>

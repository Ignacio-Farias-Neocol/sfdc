<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>51.0</apiVersion>
    <assignments>
        <name>Assign_New_Business_Locked_RT</name>
        <label>Assign New Business Locked RT</label>
        <locationX>1039</locationX>
        <locationY>57</locationY>
        <assignmentItems>
            <assignToReference>Oppty_RT</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>012f2000000caFDAAY</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Do_Not_Update_Stage</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_New_Business_Record_Type</name>
        <label>Assign New Business Record Type</label>
        <locationX>510</locationX>
        <locationY>252</locationY>
        <assignmentItems>
            <assignToReference>Oppty_RT</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>012f200000125whAAA</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_If_New_Oppty</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Renewals_Locked_RT</name>
        <label>Assign Renewals Locked RT</label>
        <locationX>1148</locationX>
        <locationY>800</locationY>
        <assignmentItems>
            <assignToReference>Oppty_RT</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>012f2000000caFEAAY</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Do_Not_Update_Stage</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Renewals_RT</name>
        <label>Assign Renewals RT</label>
        <locationX>823</locationX>
        <locationY>892</locationY>
        <assignmentItems>
            <assignToReference>Oppty_RT</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>012f2000001261kAAA</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_If_Renewal_New_Oppty</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Do_Not_Update_Stage</name>
        <label>Do Not Update Stage</label>
        <locationX>1053</locationX>
        <locationY>476</locationY>
        <assignmentItems>
            <assignToReference>UpdateStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>OpptyStage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Renewal_Stage</name>
        <label>Update Renewal Stage</label>
        <locationX>1267</locationX>
        <locationY>883</locationY>
        <assignmentItems>
            <assignToReference>UpdateStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Not Contacted</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Stage</name>
        <label>Update Stage</label>
        <locationX>1218</locationX>
        <locationY>253</locationY>
        <assignmentItems>
            <assignToReference>UpdateStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Accepted</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Opportunity</targetReference>
        </connector>
    </assignments>
    <constants>
        <name>CONSTANT_RENEWALS_CHINA_PROFILE</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Apollo: Custom- Renewals_China</stringValue>
        </value>
    </constants>
    <constants>
        <name>CONSTANT_RENEWALS_PROFILE</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Apollo: Custom- Renewals Profile</stringValue>
        </value>
    </constants>
    <constants>
        <name>CONSTANT_SALES_CHINA_PROFILE</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Apollo: Custom- Sales_China Profile</stringValue>
        </value>
    </constants>
    <constants>
        <name>CONSTANT_SALES_PROFILE</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Apollo: Custom- Sales Profile</stringValue>
        </value>
    </constants>
    <constants>
        <name>CONSTANT_SALES_SUPPORT_PROFILE</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Apollo: Custom- Sales Support Profile</stringValue>
        </value>
    </constants>
    <decisions>
        <name>Check_If_New_Oppty</name>
        <label>Check If New Oppty</label>
        <locationX>635</locationX>
        <locationY>397</locationY>
        <defaultConnector>
            <targetReference>Do_Not_Update_Stage</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>New_New_Business_Oppty</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Accepted</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Not Contacted</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Stage</targetReference>
            </connector>
            <label>New New Business Oppty</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_If_Renewal_New_Oppty</name>
        <label>Check If Renewal New Oppty</label>
        <locationX>976</locationX>
        <locationY>893</locationY>
        <defaultConnector>
            <targetReference>Do_Not_Update_Stage</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Renewal_New_Oppty</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Accepted</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Not Contacted</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Renewal_Stage</targetReference>
            </connector>
            <label>Renewal New Oppty</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Core</name>
        <label>Is Core</label>
        <locationX>138</locationX>
        <locationY>306</locationY>
        <defaultConnector>
            <targetReference>Non_Core</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Sales</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Sales</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptBusinessGroup</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Core</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_New_Business_Record_Type</targetReference>
            </connector>
            <label>Sales</label>
        </rules>
        <rules>
            <name>Sales_and_Oppty_Closed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Sales</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptBusinessGroup</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Core</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_New_Business_Locked_RT</targetReference>
            </connector>
            <label>Sales and Oppty Closed</label>
        </rules>
        <rules>
            <name>Renewals</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Renewals</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptBusinessGroup</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Core</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Renewals_RT</targetReference>
            </connector>
            <label>Renewals</label>
        </rules>
        <rules>
            <name>Renewals_and_Oppty_Closed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Renewals</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptBusinessGroup</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Core</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Renewals_Locked_RT</targetReference>
            </connector>
            <label>Renewals and Oppty Closed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Non_Core</name>
        <label>Non Core</label>
        <locationX>367</locationX>
        <locationY>656</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Sales_and_Oppty_for_Non_Core</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>CONSTANT_SALES_PROFILE</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>CONSTANT_SALES_CHINA_PROFILE</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_New_Business_Record_Type</targetReference>
            </connector>
            <label>Sales and Oppty Not Closed for Non Core</label>
        </rules>
        <rules>
            <name>Sales_and_Oppty_Closed_for_Non_Core</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>CONSTANT_SALES_PROFILE</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>CONSTANT_SALES_CHINA_PROFILE</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_New_Business_Locked_RT</targetReference>
            </connector>
            <label>Sales and Oppty Closed for Non Core</label>
        </rules>
        <rules>
            <name>Renewal</name>
            <conditionLogic>1 AND (2 OR 3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>CONSTANT_RENEWALS_PROFILE</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>CONSTANT_RENEWALS_CHINA_PROFILE</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>CONSTANT_SALES_SUPPORT_PROFILE</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Renewals_RT</targetReference>
            </connector>
            <label>Renewal</label>
        </rules>
        <rules>
            <name>Renewal_and_Oppty_Closed</name>
            <conditionLogic>1 AND (2 OR 3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>OpptyStage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>CONSTANT_RENEWALS_PROFILE</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>CONSTANT_RENEWALS_CHINA_PROFILE</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>OpptyProfile</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>CONSTANT_SALES_SUPPORT_PROFILE</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Renewals_Locked_RT</targetReference>
            </connector>
            <label>Renewal and Oppty Closed</label>
        </rules>
    </decisions>
    <description>Invoked from Process Builder - Opportunity Management - Create/Edit</description>
    <interviewLabel>Set Oppty Record Type {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Set Oppty Record Type</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordUpdates>
        <name>Update_Opportunity</name>
        <label>Update Opportunity</label>
        <locationX>1265</locationX>
        <locationY>462</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Oppty_Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Oppty_RT</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <elementReference>UpdateStage</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <start>
        <locationX>50</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>Is_Core</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>Opportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>OpptBusinessGroup</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Oppty_Id</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Oppty_RT</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OpptyProfile</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OpptyStage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Record_Type</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>UpdateStage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
